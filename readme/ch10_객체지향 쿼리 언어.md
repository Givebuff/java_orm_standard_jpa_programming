객체지향 쿼리 언어
=================

### 1. 객체지향 쿼리

**1-1. JPQL(Java Persistence Query Language)**
* 엔티티 객체를 조회하는 객체지향 쿼리
* 쿼리 작성시 테이블, 컬럼 명이 아닌 객체명, 필드명으로 작성한다.
* SQL을 추상화해서 특정 데이터베이스에 의존하지 않는다.
* DB를 바꿔도 쿼리를 수정할 필요없다.
```java
String jpql = "select m from Member as m where m.username = 'kim'";
List<Member> resultList = em.createQuery(jpql, Member.class).getResultList();
```

**1-2. Criteria 쿼리**
* 문자가 아닌 프로그래밍 코드로 JPQL을 작성할 수 있다.
* 코드여서 런타임 오류가 아닌 컴파일 오류가 발생한다.
* 동적 쿼리를 작성하기 편하다.
* 복잡하고 장황하며 한눈에 보기 어렵다.
```java
CriteriaBuilder cb = em.getCriteriaBuilder();
CriteriaQuery<Member> query = cb.createQuery(Member.class);

Root<Member> m = query.from(Member.class);

CrieriaQuery<Member> cq = query.select(m).where(cb.equal(m.get("username"), "kim"));
List<Member> resultList = em.createQuery(cq).getResultList();
```

**1-3. QueryDSL**
* Criteria의 장점을 가지면서 단순하면서 사용하기 쉽다.
```java
JPAQuery query = new JPAQuery(em);
QMember member = QMember.member;

List<Member> members = 
    query.from(member)
    .where(member.username.eq("kim"))
    .list(member);
```
QMember는 Member 엔티티 클래스를 기반으로 어노테이션 프로세스로 만든 QueryDSL 쿼리 전용 클래스이다.
